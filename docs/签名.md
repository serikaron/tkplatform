# 签名算法

1. 将body内容以key排序，将key, value拼接成字符串，例如：

   ```json
   {
     "name": "john",
     "age": 10,
     "books": [
       {
         "name": "bookA",
         "price": 10
       },
       {
         "name": "bookB",
         "price": 10
       }
     ],
     "pets": ["dog", "cat"]
   }
   ```
   拼成字符串
   ```text
   age10booksnamebookAprice10namebookBprice10namejohnpetsdogcat
   ```
2. 加上url（放最前)和时间戳(timestamp，以秒计算，放最后)，得到字符串
   ```
   /signature/checkage10booksnamebookAprice10namebookBprice10namejohnpetsdogcat1651368788
   ```
3. 通过和前后端商定的密钥进行`hmacsha256`编码算出签名，例如以`123456`为密钥对第2点的字符串编码，得到以下结果
   ```text
   cbcda1326970063a45b979e4ecd7e58a55aa32490d0f4490feaef962a650b822
   ```
4. 将时间戳和签名分别以http头`timestamp`和`signature`传给后端
   ```text
   timestamp: 1651368788
   signature: cbcda1326970063a45b979e4ecd7e58a55aa32490d0f4490feaef962a650b822
   ```

