# 新世界爬虫说明

## 1. 登录

* url: http://user.wawaq.cn/ksy/api/shokey/login
* method: POST
* body:
  ```json
  {
      "mobile": "13587021931",
      "password": "hxy197984"
  }
  ```
* rsp:
  ```json
  {
      "MESSAGE": "登陆成功",
      "CODE": "0",
      "RESULT": {
          "userNo": "02261931"
      }
  }
  ```

## 2. 查询买号

* url: http://user.wawaq.cn/ksy/api/shokey/accountList
* method: POST
* body:
  ```json
  {
      "userNo": "02261931"
  }
  ```
* rsp:
    <details>
        <summary> rsp-json </summary>

    ```json
  {
     "MESSAGE":"成功",
     "CODE":"0",
     "RESULT":{
        "accountList":[
           {
              "id":null,
              "orderBy":"",
              "groupBy":"",
              "pageNo":1,
              "pageSize":10,
              "isNewRecord":true,
              "remarks":null,
              "createDate":"2022-02-28 11:56:07",
              "updateDate":"2022-08-21 11:13:32",
              "extendMap":null,
              "totalCount":null,
              "totalDate":null,
              "totalType":null,
              "userNo":"02261931",
              "busId":"0001",
              "sts":"0",
              "accountName":"泛黄回忆颜",
              "isAuth":null,
              "isAuthLabel":"",
              "isAuthPicture":"",
              "busAge":26,
              "busSex":"2",
              "adrName":"陈宇",
              "adrPhone":"17857166913",
              "adrArea":"浙江省--衢州市--柯城区",
              "saleNo":"1003",
              "adrAreaCode":null,
              "adrDetail":"资源广场75号",
              "creditNum":"1774",
              "acGrade":"0",
              "acGradeCode":null,
              "ext1Credit":null,
              "ext2Credit":null,
              "checkSts":"1",
              "checkDate":"2022-08-21 03:13:32",
              "checkOper":"admin",
              "checkRemark":"审核通过",
              "urlVfy":"http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/23cf73df70eb4fd0a4da3c3d63a34a56.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/3ed560d5d5f94b03ac3dd217baeb693a.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/1aa1c6ab22d546f299785fe45d1f94c0.jpg,,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/fc13a355365342b6bae642d614619cc4.jpg,,,",
              "openHuabei":"0",
              "tbOrderNum":"1496810488626439156",
              "userInfo":{
                 "id":"32",
                 "orderBy":"",
                 "groupBy":"",
                 "pageNo":1,
                 "pageSize":10,
                 "isNewRecord":false,
                 "remarks":null,
                 "createDate":null,
                 "updateDate":null,
                 "extendMap":null,
                 "totalCount":null,
                 "totalDate":null,
                 "totalType":null,
                 "userNo":null,
                 "userName":null,
                 "groupNo":null,
                 "photo":null,
                 "sex":null,
                 "password":null,
                 "sts":null,
                 "mobile":"13587021931",
                 "wechat":null,
                 "qqnumber":null,
                 "mobileCode":null,
                 "disableCode":null,
                 "invCode":null,
                 "upUserFlag":null,
                 "proFlag":null,
                 "proNo":null,
                 "saleNo":null,
                 "saleInfo":null,
                 "agentNo":null,
                 "identify":null,
                 "isComplete":null,
                 "cfgSts":null,
                 "forbidTask":null,
                 "checkSts":null,
                 "checkTm":null,
                 "checkOper":null,
                 "fraudSts":"0",
                 "orderNum":null,
                 "credit":null,
                 "bandNum":null,
                 "openInvit":null,
                 "beginCreateDate":null,
                 "endCreateDate":null,
                 "fund":null,
                 "userIdInfo":null,
                 "userGroup":null,
                 "copyUserFlag":null,
                 "isCompleteLabel":"",
                 "isCompletePicture":""
              },
              "proNo":null,
              "saleManName":null,
              "orderNum":null,
              "downNum":null,
              "downDate":null,
              "dayOrderLimit":"2",
              "todayOrderNum":"0",
              "mobile":null
           },
           {
              "id":null,
              "orderBy":"",
              "groupBy":"",
              "pageNo":1,
              "pageSize":10,
              "isNewRecord":true,
              "remarks":null,
              "createDate":"2022-08-21 11:13:32",
              "updateDate":"2022-08-21 11:13:32",
              "extendMap":null,
              "totalCount":null,
              "totalDate":null,
              "totalType":null,
              "userNo":"02261931",
              "busId":"0004",
              "sts":"0",
              "accountName":"泛黄回忆颜",
              "isAuth":null,
              "isAuthLabel":"",
              "isAuthPicture":"",
              "busAge":26,
              "busSex":"2",
              "adrName":"陈宇",
              "adrPhone":"17857166913",
              "adrArea":"浙江省--衢州市--柯城区",
              "saleNo":"1003",
              "adrAreaCode":null,
              "adrDetail":"资源广场75号",
              "creditNum":"1774",
              "acGrade":"0",
              "acGradeCode":null,
              "ext1Credit":null,
              "ext2Credit":null,
              "checkSts":"1",
              "checkDate":"2022-08-21 03:13:32",
              "checkOper":"admin",
              "checkRemark":"审核通过",
              "urlVfy":"http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/23cf73df70eb4fd0a4da3c3d63a34a56.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/3ed560d5d5f94b03ac3dd217baeb693a.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/1aa1c6ab22d546f299785fe45d1f94c0.jpg,,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/fc13a355365342b6bae642d614619cc4.jpg,,,",
              "openHuabei":"0",
              "tbOrderNum":"1496810488626439156",
              "userInfo":{
                 "id":"32",
                 "orderBy":"",
                 "groupBy":"",
                 "pageNo":1,
                 "pageSize":10,
                 "isNewRecord":false,
                 "remarks":null,
                 "createDate":null,
                 "updateDate":null,
                 "extendMap":null,
                 "totalCount":null,
                 "totalDate":null,
                 "totalType":null,
                 "userNo":null,
                 "userName":null,
                 "groupNo":null,
                 "photo":null,
                 "sex":null,
                 "password":null,
                 "sts":null,
                 "mobile":"13587021931",
                 "wechat":null,
                 "qqnumber":null,
                 "mobileCode":null,
                 "disableCode":null,
                 "invCode":null,
                 "upUserFlag":null,
                 "proFlag":null,
                 "proNo":null,
                 "saleNo":null,
                 "saleInfo":null,
                 "agentNo":null,
                 "identify":null,
                 "isComplete":null,
                 "cfgSts":null,
                 "forbidTask":null,
                 "checkSts":null,
                 "checkTm":null,
                 "checkOper":null,
                 "fraudSts":"0",
                 "orderNum":null,
                 "credit":null,
                 "bandNum":null,
                 "openInvit":null,
                 "beginCreateDate":null,
                 "endCreateDate":null,
                 "fund":null,
                 "userIdInfo":null,
                 "userGroup":null,
                 "copyUserFlag":null,
                 "isCompleteLabel":"",
                 "isCompletePicture":""
              },
              "proNo":null,
              "saleManName":null,
              "orderNum":null,
              "downNum":null,
              "downDate":null,
              "dayOrderLimit":"2",
              "todayOrderNum":"0",
              "mobile":null
           },
           {
              "id":null,
              "orderBy":"",
              "groupBy":"",
              "pageNo":1,
              "pageSize":10,
              "isNewRecord":true,
              "remarks":null,
              "createDate":"2022-02-28 11:53:49",
              "updateDate":"2022-08-21 11:13:33",
              "extendMap":null,
              "totalCount":null,
              "totalDate":null,
              "totalType":null,
              "userNo":"02261931",
              "busId":"0001",
              "sts":"0",
              "accountName":"黄山清哈哈哈",
              "isAuth":null,
              "isAuthLabel":"",
              "isAuthPicture":"",
              "busAge":25,
              "busSex":"2",
              "adrName":"陈俊华",
              "adrPhone":"13587021931",
              "adrArea":"浙江省--衢州市--常山县",
              "saleNo":"1003",
              "adrAreaCode":null,
              "adrDetail":"衢州常山竹园5",
              "creditNum":"1500",
              "acGrade":"0",
              "acGradeCode":null,
              "ext1Credit":null,
              "ext2Credit":null,
              "checkSts":"1",
              "checkDate":"2022-08-21 03:13:33",
              "checkOper":"admin",
              "checkRemark":"审核通过",
              "urlVfy":"http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/13cc22885d814730bd93565a3e8eb573.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/9bdf3690c27c478d9c2913d032f88b04.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/8d58f4ace9fb4f298e5827bddfe49751.jpg,,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/619456b156b24c1cb96cb43293f49fda.jpg,,,",
              "openHuabei":"0",
              "tbOrderNum":"2491137109564409920",
              "userInfo":{
                 "id":"32",
                 "orderBy":"",
                 "groupBy":"",
                 "pageNo":1,
                 "pageSize":10,
                 "isNewRecord":false,
                 "remarks":null,
                 "createDate":null,
                 "updateDate":null,
                 "extendMap":null,
                 "totalCount":null,
                 "totalDate":null,
                 "totalType":null,
                 "userNo":null,
                 "userName":null,
                 "groupNo":null,
                 "photo":null,
                 "sex":null,
                 "password":null,
                 "sts":null,
                 "mobile":"13587021931",
                 "wechat":null,
                 "qqnumber":null,
                 "mobileCode":null,
                 "disableCode":null,
                 "invCode":null,
                 "upUserFlag":null,
                 "proFlag":null,
                 "proNo":null,
                 "saleNo":null,
                 "saleInfo":null,
                 "agentNo":null,
                 "identify":null,
                 "isComplete":null,
                 "cfgSts":null,
                 "forbidTask":null,
                 "checkSts":null,
                 "checkTm":null,
                 "checkOper":null,
                 "fraudSts":"0",
                 "orderNum":null,
                 "credit":null,
                 "bandNum":null,
                 "openInvit":null,
                 "beginCreateDate":null,
                 "endCreateDate":null,
                 "fund":null,
                 "userIdInfo":null,
                 "userGroup":null,
                 "copyUserFlag":null,
                 "isCompleteLabel":"",
                 "isCompletePicture":""
              },
              "proNo":null,
              "saleManName":null,
              "orderNum":null,
              "downNum":null,
              "downDate":null,
              "dayOrderLimit":"2",
              "todayOrderNum":"0",
              "mobile":null
           },
           {
              "id":null,
              "orderBy":"",
              "groupBy":"",
              "pageNo":1,
              "pageSize":10,
              "isNewRecord":true,
              "remarks":null,
              "createDate":"2022-08-21 11:13:33",
              "updateDate":"2022-08-21 11:13:33",
              "extendMap":null,
              "totalCount":null,
              "totalDate":null,
              "totalType":null,
              "userNo":"02261931",
              "busId":"0004",
              "sts":"0",
              "accountName":"黄山清哈哈哈",
              "isAuth":null,
              "isAuthLabel":"",
              "isAuthPicture":"",
              "busAge":25,
              "busSex":"2",
              "adrName":"陈俊华",
              "adrPhone":"13587021931",
              "adrArea":"浙江省--衢州市--常山县",
              "saleNo":"1003",
              "adrAreaCode":null,
              "adrDetail":"衢州常山竹园5",
              "creditNum":"1500",
              "acGrade":"0",
              "acGradeCode":null,
              "ext1Credit":null,
              "ext2Credit":null,
              "checkSts":"1",
              "checkDate":"2022-08-21 03:13:33",
              "checkOper":"admin",
              "checkRemark":"审核通过",
              "urlVfy":"http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/13cc22885d814730bd93565a3e8eb573.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/9bdf3690c27c478d9c2913d032f88b04.jpg,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/8d58f4ace9fb4f298e5827bddfe49751.jpg,,http://taochuang-1309696496.cos.ap-guangzhou.myqcloud.com/shokey/619456b156b24c1cb96cb43293f49fda.jpg,,,",
              "openHuabei":"0",
              "tbOrderNum":"2491137109564409920",
              "userInfo":{
                 "id":"32",
                 "orderBy":"",
                 "groupBy":"",
                 "pageNo":1,
                 "pageSize":10,
                 "isNewRecord":false,
                 "remarks":null,
                 "createDate":null,
                 "updateDate":null,
                 "extendMap":null,
                 "totalCount":null,
                 "totalDate":null,
                 "totalType":null,
                 "userNo":null,
                 "userName":null,
                 "groupNo":null,
                 "photo":null,
                 "sex":null,
                 "password":null,
                 "sts":null,
                 "mobile":"13587021931",
                 "wechat":null,
                 "qqnumber":null,
                 "mobileCode":null,
                 "disableCode":null,
                 "invCode":null,
                 "upUserFlag":null,
                 "proFlag":null,
                 "proNo":null,
                 "saleNo":null,
                 "saleInfo":null,
                 "agentNo":null,
                 "identify":null,
                 "isComplete":null,
                 "cfgSts":null,
                 "forbidTask":null,
                 "checkSts":null,
                 "checkTm":null,
                 "checkOper":null,
                 "fraudSts":"0",
                 "orderNum":null,
                 "credit":null,
                 "bandNum":null,
                 "openInvit":null,
                 "beginCreateDate":null,
                 "endCreateDate":null,
                 "fund":null,
                 "userIdInfo":null,
                 "userGroup":null,
                 "copyUserFlag":null,
                 "isCompleteLabel":"",
                 "isCompletePicture":""
              },
              "proNo":null,
              "saleManName":null,
              "orderNum":null,
              "downNum":null,
              "downDate":null,
              "dayOrderLimit":"2",
              "todayOrderNum":"0",
              "mobile":null
           }
        ]
     }
  }
    ```
    </details>

## 3. 接单

* url: http://user.wawaq.cn/ksy/api/shokey/task/matchOrder
* method: POST
* body
  ```json
  {
      "token": "2d550637cb4584d2a637321b0ce30193",
      "userNo": "02261931",
      "accId": null,
      "orderType": 0,
      "key": "VJZCMyE+cgqi+jVACsLOag=="
  }
  ```
  * token = md5(userNo + "jucheng"), 拼接`userNo`和`"jucheng"`得到字符串`"02261931jucheng"`，再算md5
  * key = aes-ecb-pkcs7(mobile, "juchengAbCD12345")，以`"juchengAbCD12345"`为key, `mobile`为内容，算出aes-ecb-pkcs7值
* rsp
  * 失败
  ```json
  {
    "MESSAGE": "暂时没有可匹配的订单",
    "CODE": "-1"
  }
  ```
  * 成功
    * cdoe: 0
    * 本金: RESULT.oneByOrderNo.totalPrice
    * 佣金: RESULT.oneByOrderNo.userCommission
  ```json
{
   "MESSAGE":"成功",
   "CODE":"0",
   "RESULT":{
      "accountName":"泛黄回忆颜",
      "accId":"735",
      "oneByOrderNo":{
         "orderNo":"368741",
         "taskNo":"253458",
         "shopNo":"",
         "shopName":"天*****店",
         "taskTyp":"1",
         "totalPrice":"29.80rice":0,
         "userCommission":3.5,
         "orderEvaluatPrice":0.5,
         "addOrderEvaluatPrice":0,
         "userRealComm":4
      }
   }
}  ```